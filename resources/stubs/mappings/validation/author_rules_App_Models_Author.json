{
    "name": "Author Validation Rules Test",
    "description": "Test mapping for validation rules: name min/max length, email format and uniqueness, country size and alpha",
    "source_schema": {
        "columns": {
            "name": {
                "name": "name",
                "type": "string",
                "null_count": 0,
                "unique_count": 10,
                "examples": [
                    "Valid Author",
                    "A",
                    "This name is way too long..."
                ]
            },
            "email": {
                "name": "email",
                "type": "email",
                "null_count": 1,
                "unique_count": 9,
                "examples": [
                    "valid@test.com",
                    "short@test.com",
                    "not-an-email"
                ]
            },
            "country": {
                "name": "country",
                "type": "string",
                "null_count": 0,
                "unique_count": 10,
                "examples": [
                    "US",
                    "UK",
                    "USA"
                ]
            }
        },
        "total_rows": 10
    },
    "mappings": [
        {
            "model": "App\\Models\\Author",
            "columns": [
                {
                    "source": "name",
                    "target": "name",
                    "transforms": [
                        "trim"
                    ],
                    "default": null,
                    "validation_rule": "required|string|min:2|max:100",
                    "relation_lookup": null
                },
                {
                    "source": "email",
                    "target": "email",
                    "transforms": [
                        "trim",
                        "lower"
                    ],
                    "default": null,
                    "validation_rule": "nullable|email|unique:authors,email",
                    "relation_lookup": null
                },
                {
                    "source": "country",
                    "target": "country",
                    "transforms": [
                        "trim",
                        "upper"
                    ],
                    "default": null,
                    "validation_rule": "nullable|string|size:2|alpha",
                    "relation_lookup": null
                }
            ],
            "options": {
                "unique_key": "email",
                "duplicate_strategy": "update"
            }
        }
    ],
    "created_at": "2025-12-18T15:00:00+00:00",
    "updated_at": "2025-12-18T15:00:00+00:00"
}

